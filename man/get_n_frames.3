.\" get_n_frames.3.  The get_n_frames man page.
.TH get_n_frames 3 "11 August 2008" "Version 0.2.0" "GETDATA"
.SH NAME
get_n_frames \(em report the size of a dirfile
.SH SYNOPSIS
.B #include <getdata.h>
.HP
.nh
.ad l
.BI "off_t get_n_frames(DIRFILE *" dirfile );
.hy
.ad n
.SH DESCRIPTION
The
.BR get_n_frames ()
function queries a dirfile(5) database specified by
.I dirfile
and returns the number of frames in the database.  Since different fields may
have differing number of frames, the Dirfile Standards (see
.BR dirfile (5))
dictate that the number of frames in the database is defined to be equal to the
number of frames in the first raw field specified in the format file.

The 
.I dirfile
parameter must point to a valid DIRFILE object previously created by a call to
.BR dirfile_open (3).

.SH RETURN VALUE
Upon successful completion,
.BR get_n_frames ()
returns the number of frames in the dirfile.  On error, it
returns zero and sets
.IR dirfile -> error
to a non-zero error value.  Possible error values are:
.TP 8
.B GD_E_BAD_DIRFILE
The supplied dirfile was invalid.
.TP
.B GD_E_NO_RAWFIELDS
The dirfile format file defines no raw fields, or else none of the raw fields
defined could be accessed.  As a result, the database is effectevely empty.
.TP
.B GD_E_OPEN_RAWFIELD
The first raw field defined in the format file could not be found on disk.
.P
A descriptive error string for the last error encountered can be obtained from
a call to
.BR getdata_error_string (3).
.SH SEE ALSO
.BR dirfile (5),
.BR dirfile_open (3),
.BR getdata (3),
.BR getdata_error_string (3)
